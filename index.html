<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR 80 NƒÉm Truy·ªÅn Th·ªëng Tham M∆∞u CAND</title>
    
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.3/dist/mindar-image-aframe.prod.js" type="module"></script>
    
    <style>
        body { margin: 0; padding: 0; background: #000; overflow: hidden; font-family: Arial; }
        #instruction { position: absolute; top: 0; left: 0; width: 100%; text-align: center; color: white; background: rgba(0,0,0,0.8); padding: 15px; z-index: 1000; }
    </style>
</head>
<body>
    <div id="instruction">üéØ H∆∞·ªõng camera v√†o h√¨nh ·∫£nh m·ª•c ti√™u</div>

    <div id="mindar-scene" style="width: 100%; height: 100vh;">
        <a-scene 
            mindar-image="imageTargetSrc: targets.mind; autoStart: true; uiLoading: no; uiScanning: no; uiError: no;" 
            embedded 
            vr-mode-ui="enabled: false"
            device-orientation-permission-ui="enabled: false">
            
            <a-camera position="0 0 0"></a-camera>

            <!-- TARGET 1 - H·ªòP M√ÄU -->
            <a-entity mindar-image-target="targetIndex: 0">
                <a-box color="red" position="0 0.5 0" width="0.3" height="0.3" depth="0.3"></a-box>
                <a-text value="VIDEO 1" position="0 1 0" color="white" align="center"></a-text>
            </a-entity>

            <!-- TARGET 2 - H·ªòP M√ÄU -->
            <a-entity mindar-image-target="targetIndex: 1">
                <a-box color="blue" position="0 0.5 0" width="0.3" height="0.3" depth="0.3"></a-box>
                <a-text value="VIDEO 2" position="0 1 0" color="white" align="center"></a-text>
            </a-entity>

            <!-- TARGET 3 - H·ªòP M√ÄU -->
            <a-entity mindar-image-target="targetIndex: 2">
                <a-box color="green" position="0 0.5 0" width="0.3" height="0.3" depth="0.3"></a-box>
                <a-text value="VIDEO 3" position="0 1 0" color="white" align="center"></a-text>
            </a-entity>

            <!-- TARGET 4 - H·ªòP M√ÄU -->
            <a-entity mindar-image-target="targetIndex: 3">
                <a-box color="yellow" position="0 0.5 0" width="0.3" height="0.3" depth="0.3"></a-box>
                <a-text value="VIDEO 4" position="0 1 0" color="white" align="center"></a-text>
            </a-entity>

        </a-scene>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scene = document.querySelector('a-scene');
            
            scene.addEventListener('renderstart', function() {
                console.log('‚úÖ AR System ready!');
            });

            // Th√™m click ƒë·ªÉ m·ªü video
            const targets = document.querySelectorAll('[mindar-image-target]');
            targets.forEach((target, index) => {
                target.addEventListener('targetFound', () => {
                    console.log(`üéØ Target ${index} found`);
                    
                    // T·∫°o popup th√¥ng b√°o
                    const videoLinks = [
                        'https://imilooo.github.io/80-n-m-tham-m-u/assets/video1.mp4',
                        'https://imilooo.github.io/80-n-m-tham-m-u/assets/video2.mp4', 
                        'https://imilooo.github.io/80-n-m-tham-m-u/assets/video3.mp4',
                        'https://imilooo.github.io/80-n-m-tham-m-u/assets/video4.mp4'
                    ];
                    
                    // M·ªü video trong tab m·ªõi khi ch·∫°m
                    target.addEventListener('click', () => {
                        window.open(videoLinks[index], '_blank');
                    });
                });
            });
        });
    </script>
</body>
</html>

